<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0, user-scalable=yes">
    <title>CINE'MO</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>C</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Work+Sans:wght@300;400;500&family=Archivo+Black&family=Noto+Sans+KR:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .logo, .footer-logo, h2 {
            font-weight: 300 !important;
            font-family: 'Poppins', sans-serif !important;
        }
        .highlight .white-text {
            color: var(--light);
        }
        .hero-title {
            font-family: 'Noto Sans KR', sans-serif !important;
            font-weight: 300 !important;
            letter-spacing: 0.05em !important;
        }
        
        /* 입력 필드 배경색 유지 */
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
            transition: background-color 5000s ease-in-out 0s !important;
            -webkit-text-fill-color: #ffffff !important;
            -webkit-box-shadow: 0 0 0px 1000px var(--dark) inset !important;
            box-shadow: 0 0 0px 1000px var(--dark) inset !important;
            background-color: var(--dark) !important;
        }
        
        /* 모바일 메뉴 스타일 */
        @media (max-width: 768px) {
            /* 모바일 밝은 테마 */
            body {
                background-color: #fff;
                color: #333;
            }
            
            header {
                background-color: #fff;
                border-bottom: 1px solid #eee;
                box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            }
            
            header.scrolled {
                background-color: #fff;
            }
            
            .logo {
                color: #333;
            }
            
            .logo span {
                color: var(--accent);
            }
            
            .mobile-menu-toggle span {
                background-color: #333;
            }
            
            nav.active {
                background-color: #fff;
            }
            
            nav ul li a {
                color: #333;
            }
            
            /* 모바일 메뉴 스타일 */
            .mobile-menu-toggle {
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                width: 24px;
                height: 18px;
                cursor: pointer;
                position: absolute;
                right: 20px;
                top: 20px;
                z-index: 200;
            }
            
            .mobile-menu-toggle span {
                display: block;
                height: 2px;
                width: 100%;
                background-color: #333;
                transition: all 0.3s ease;
            }
            
            .mobile-menu-toggle.active span:nth-child(1) {
                transform: translateY(8px) rotate(45deg);
            }
            
            .mobile-menu-toggle.active span:nth-child(2) {
                opacity: 0;
            }
            
            .mobile-menu-toggle.active span:nth-child(3) {
                transform: translateY(-8px) rotate(-45deg);
            }
            
            /* 모바일 헤더 스타일 */
            .header-container {
                padding: 15px;
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 60px;
            }
            
            .logo {
                font-size: 1.5rem;
                margin: 0 auto;
            }
            
            /* 모바일 네비게이션 스타일 */
            nav {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.5s ease;
                position: absolute;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: #fff;
                border-top: 1px solid #eee;
                z-index: 100;
            }
            
            nav.active {
                max-height: 300px;
                box-shadow: 0 5px 10px rgba(0,0,0,0.1);
            }
            
            nav ul {
                flex-direction: column;
                padding: 0;
                margin: 0;
            }
            
            nav ul li {
                width: 100%;
                border-bottom: 1px solid #eee;
            }
            
            nav ul li a {
                padding: 15px 20px;
                display: block;
                text-align: left;
                color: #333;
            }
            
            .buy-tickets {
                margin: 15px auto;
                width: 90%;
                display: block;
                text-align: center;
                background-color: var(--accent);
                color: #fff;
                border-radius: 30px;
                padding: 12px 25px;
            }
            
            /* 모바일 섹션 스타일 */
            .section-intro {
                text-align: left;
                padding: 0 20px;
            }
            
            .section-intro h2 {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }
            
            .section-intro span {
                color: var(--accent);
            }
            
            /* 모바일 카드 스타일 */
            .services-grid, .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .service-card, .category-card {
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.05);
                background-color: #fff;
                margin-bottom: 20px;
            }
            
            /* 모바일 프로그램 스타일 */
            .program-schedule {
                padding: 0 15px;
                background-color: #f9f9f9;
                border-radius: 15px;
            }
            
            .month-calendar {
                padding: 15px 0;
            }
            
            .month-calendar h3 {
                text-align: left;
                margin-bottom: 15px;
                font-size: 1.4rem;
                color: #333;
            }
            
            .calendar-day {
                margin-bottom: 15px;
                border-radius: 10px;
                overflow: hidden;
                box-shadow: 0 3px 10px rgba(0,0,0,0.08);
                background-color: #fff;
            }
            
            .date-info {
                padding: 10px 15px;
                background-color: #f5f5f5;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .day-name {
                font-weight: 500;
                color: #333;
            }
            
            .day-number {
                font-weight: 600;
                font-size: 1.2rem;
                color: var(--accent);
            }
            
            .movie-info {
                padding: 15px;
                position: relative;
                border-radius: 0;
                background-color: #fff;
            }
            
            .movie-details h4 {
                font-size: 1.1rem;
                margin-bottom: 8px;
                color: #222;
            }
            
            .movie-details .time, .movie-details .location {
                font-size: 0.9rem;
                color: #666;
                margin-bottom: 5px;
            }
            
            /* 모바일 상품 목록 스타일 (TIME STOOD STILL 참고) */
            .product-section {
                padding: 30px 15px;
            }
            
            .product-list {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }
            
            .product-item {
                display: flex;
                flex-direction: row;
                gap: 15px;
                background-color: #fff;
                border-radius: 10px;
                padding: 15px;
                box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            }
            
            .product-image {
                width: 100px;
                height: 100px;
                overflow: hidden;
                border-radius: 8px;
            }
            
            .product-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            .product-details {
                flex: 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
            
            .product-name {
                font-size: 1rem;
                margin-bottom: 5px;
                color: #333;
                font-weight: 500;
            }
            
            .product-price {
                font-size: 0.9rem;
                color: #666;
            }
            
            /* 모바일 검색 버튼 */
            .search-button {
                position: absolute;
                right: 60px;
                top: 20px;
                font-size: 1.2rem;
                color: #333;
                cursor: pointer;
            }
            
            /* 모바일 폰트 크기 조정 */
            html {
                font-size: 14px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.6rem;
                color: #333;
            }
            
            h3 {
                font-size: 1.3rem;
                color: #333;
            }
            
            h4 {
                font-size: 1.1rem;
                color: #333;
            }
            
            p {
                font-size: 0.95rem;
                color: #555;
            }
            
            .hero-description {
                font-size: 0.95rem;
                color: #555;
            }
            
            /* 버튼 및 UI 요소 크기 조정 */
            .cta-button {
                padding: 10px 18px;
                font-size: 0.9rem;
                background-color: var(--accent);
                color: #fff;
            }
            
            .cta-button.small {
                padding: 8px 14px;
                font-size: 0.8rem;
                background-color: var(--accent);
                color: #fff;
            }
            
            /* 프로그램 항목 모바일 스타일 */
            .program-item {
                cursor: pointer;
                min-height: 80px;
            }
            
            .program-item .join-btn {
                padding: 8px 16px;
                font-size: 14px;
                background-color: var(--accent);
            }
            
            .program-item .join-btn svg {
                width: 18px;
                height: 18px;
            }
            
            /* 섹션 패딩 조정 */
            section {
                padding: 40px 0;
            }
            
            /* 그리드 레이아웃 조정 */
            .services-grid, .gallery-grid, .categories-grid, .tickets-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                margin-top: 20px;
            }
            
            /* 푸터 조정 */
            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .footer-links a {
                font-size: 0.85rem;
                margin: 0 5px;
                color: #666;
            }
            
            /* 모바일에서는 오버레이와 버튼 항상 표시 */
            .program-item .join-overlay {
                opacity: 1;
                background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.1));
            }
            
            .program-item .join-btn {
                transform: translateY(0);
                opacity: 1;
                position: absolute;
                bottom: 10px;
                right: 10px;
                animation: none; /* 모바일에서는 애니메이션 비활성화 */
            }
            
            /* 모바일에서는 호버 효과 제거 (터치 기기에서는 불필요함) */
            .program-item:hover {
                transform: none;
            }
            
            .program-item:hover .join-overlay {
                opacity: 1;
            }
            
            .program-item:hover .join-btn {
                transform: translateY(0);
            }
        }
        
        /* 작은 모바일 화면에 대한 추가 조정 */
        @media (max-width: 480px) {
            html {
                font-size: 13px;
            }
            
            .container {
                padding: 0 15px;
            }
            
            .logo {
                font-size: 1.4rem;
            }
            
            .hero-title {
                font-size: 1.6rem;
            }
            
            .join-form, .join-text {
                padding: 20px;
            }
            
            .movie-info h4 {
                font-size: 1.1rem;
            }
            
            .movie-info .time, .movie-info .location {
                font-size: 0.85rem;
            }
            
            .program-item .join-btn {
                padding: 6px 12px;
                font-size: 13px;
            }
            
            .program-item .join-btn svg {
                width: 16px;
                height: 16px;
            }
        }

        /* 프로그램 항목 클릭 스타일 */
        .program-item {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            -webkit-tap-highlight-color: rgba(0,0,0,0); /* 모바일에서 탭 하이라이트 제거 */
            touch-action: manipulation; /* 터치 동작 최적화 */
        }
        
        .program-item:active {
            transform: scale(0.98); /* 터치 시 약간 축소 효과 */
            background-color: rgba(255, 255, 255, 0.05); /* 터치 시 배경색 약간 변경 */
        }
        
        .program-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .program-item .join-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.4));
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .program-item:hover .join-overlay {
            opacity: 1;
        }
        
        .program-item .join-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--accent), #ff8a00);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(255, 94, 0, 0.4);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            letter-spacing: 0.5px;
        }
        
        .program-item:hover .join-btn {
            transform: translateY(0);
            opacity: 1;
        }
        
        .program-item .join-btn:hover {
            background: linear-gradient(135deg, #ff8a00, var(--accent));
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 94, 0, 0.5);
        }
        
        .program-item .join-btn svg {
            width: 22px;
            height: 22px;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* 회원가입 링크 스타일 수정 */
        .signup-link {
            color: #888; /* 회색으로 변경 */
            font-weight: 500;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .signup-link:hover {
            color: var(--accent); /* 호버 효과 색상 */
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">CINE<span>'MO</span></div>
            <div class="search-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </div>
            <div class="mobile-menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav>
                <ul>
                    <li><a href="#intro">소개</a></li>
                    <li><a href="#services">서비스</a></li>
                    <li><a href="#gallery">갤러리</a></li>
                    <li><a href="#screening">상영회</a></li>
                    <li><a href="#program">프로그램</a></li>
                    <li><a href="#join">가입</a></li>
                </ul>
            </nav>
            <a href="#" class="buy-tickets" id="login-button"><span>로그인</span></a>
        </div>
    </header>
    
    <!-- 로그인 모달 -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>로그인</h3>
            <form id="login-form">
                <div class="form-group">
                    <input type="email" id="login-email" name="email" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" name="password" placeholder="비밀번호" required>
                </div>
                <div class="form-message" id="login-message"></div>
                <button type="submit" class="cta-button">로그인</button>
                <div class="form-footer">
                    <a href="#join" class="close-and-redirect signup-link">회원이 아니신가요? 가입하기</a>
                </div>
            </form>
        </div>
    </div>
    
    <main>
        <section id="intro" class="hero">
            <div class="container hero-content">
                <div class="hero-text">
                    <p class="hero-tagline">영화를 사랑하는 모든 이들을 위한</p>
                    <h1 class="hero-title">
                        <span class="highlight">영화. <span class="white-text">함께</span></span> 이야기하다
                    </h1>
                    <p class="hero-description">
                        CINE'MO는 영화 애호가들이 모여 경험을 공유하고, 새로운 영화를 발견하며, 영화계의 트렌드를 탐구하는 공간입니다.
                    </p>
                    <a href="#services" class="cta-button">서비스 보기</a>
                </div>
                
                <div class="hero-image">
                    <img src="images/test3.png" alt="Cinema">
                </div>
            </div>
            
            <div class="curve"></div>
            <div class="circle"></div>
            
            <div class="scroll-indicator">
                <span class="scroll-text">Scroll</span>
                <div class="scroll-line"></div>
            </div>
        </section>
        
        <section id="services" class="services-section">
            <div class="section-intro">
                <h2>CINE'MO <span>서비스</span></h2>
                <p>영화제와 함께하는 특별한 여행 패키지</p>
            </div>
            <div class="container">
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">
                            <div class="service-circle"></div>
                        </div>
                        <h3>씨네트립</h3>
                        <p>세계적인 칸 영화제를 직접 경험할 수 있는 특별한 여행 패키지입니다.</p>
                        <ul class="service-features">
                            <li>영화제 입장권 포함</li>
                            <li>4박 5일 호텔 숙박</li>
                            <li>현지 가이드 투어</li>
                        </ul>
                        <a href="#" class="cta-button small">신청하기</a>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">
                            <div class="service-circle"></div>
                        </div>
                        <h3>씨네마 클럽</h3>
                        <p>함께 영화를 보고 감상을 나누는 모임입니다.</p>
                        <ul class="service-features">
                            <li>매월 정해진 영화에 대해 깊이 있는 토론을 나눕니다.</li>
                            <li>매월 주제/주말 오후 3시</li>
                        </ul>
                        <a href="#" class="cta-button small">신청하기</a>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">
                            <div class="service-circle"></div>
                        </div>
                        <h3>영화 제작 워크샵</h3>
                        <p>단편 영화 제작에 참여하는 심층 워크샵입니다.</p>
                        <ul class="service-features">
                            <li>분기별 개최</li>
                        </ul>
                        <a href="#" class="cta-button small">신청하기</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="gallery" class="gallery-section">
            <div class="section-intro">
                <h2>영화 <span>갤러리</span></h2>
                <p>CINE'MO의 특별한 순간들을 만나보세요</p>
            </div>
            <div class="container">
                <div class="gallery-grid">
                    <div class="gallery-item large">
                        <img src="images/test4.png" alt="영화관 좌석">
                        <div class="gallery-overlay">
                            <h3>프리미엄 극장 경험</h3>
                            <p>CINE'MO만의 특별한 영화 감상 공간</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="images/test.png" alt="영화 조명">
                        <div class="gallery-overlay">
                            <h3>영화 촬영 기법</h3>
                            <p>프로페셔널한 조명 워크샵</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="images/test2.png" alt="영화 제작 스튜디오">
                        <div class="gallery-overlay">
                            <h3>영화 제작 스튜디오</h3>
                            <p>실전 영화 제작 체험</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="screening" class="screening-section">
            <div class="section-intro">
                <h2>특별 <span>상영회</span></h2>
                <p>CINE'MO에서 준비한 특별한 영화 상영 이벤트를 만나보세요</p>
            </div>
            <div class="container">
                <div class="screening-types">
                    <div class="screening-tab active" data-target="midnight">심야 상영회</div>
                    <div class="screening-tab" data-target="outdoor">야외 상영회</div>
                </div>
                
                <div class="screening-content">
                    <div id="midnight" class="screening-panel active">
                        <div class="midnight-intro">
                            <h3>심야 상영회</h3>
                            <p>밤의 감성으로 더욱 특별해지는 CINE'MO의 심야 상영 프로그램</p>
                        </div>
                        <div class="movie-cards">
                            <div class="movie-card">
                                <div class="movie-poster">
                                    <img src="images/test3.png" alt="레토 포스터">
                                    <div class="movie-date">5월 25일 23:30</div>
                                </div>
                                <div class="movie-info">
                                    <h4>레토</h4>
                                    <p class="movie-director">키릴 세레브렌니코프</p>
                                    <p class="movie-synopsis">1980년대 초반, 소비에트 레닌그라드. 록음악은 서구에서 들어오고, 언더그라운드 록 씬이 꿈틀거린다.</p>
                                    <div class="movie-meta">
                                        <span>2018</span>
                                        <span>126분</span>
                                        <span>러시아</span>
                                    </div>
                                    <a href="#" class="cta-button small">예매하기</a>
                                </div>
                            </div>
                            <div class="movie-card">
                                <div class="movie-poster">
                                    <img src="images/test.png" alt="벌집의 정령 포스터">
                                    <div class="movie-date">6월 8일 23:30</div>
                                </div>
                                <div class="movie-info">
                                    <h4>벌집의 정령</h4>
                                    <p class="movie-director">빅토르 에리세</p>
                                    <p class="movie-synopsis">스페인 내전 직후, 어린 소녀 아나는 상상 속 정령을 만나게 된다.</p>
                                    <div class="movie-meta">
                                        <span>1973</span>
                                        <span>97분</span>
                                        <span>스페인</span>
                                    </div>
                                    <a href="#" class="cta-button small">예매하기</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="outdoor" class="screening-panel">
                        <div class="outdoor-intro">
                            <h3>야외 상영회 - 아트나인 특별 기획</h3>
                            <p>6월의 밤, 별빛 아래에서 즐기는 특별한 영화 경험</p>
                        </div>
                        <div class="outdoor-banner">
                            <img src="images/test5.png" alt="야외 상영회">
                            <div class="outdoor-overlay">
                                <h3>아트나인 야외 상영회</h3>
                                <p>6월 15일 - 30일</p>
                                <p>매주 금, 토, 일 20:00</p>
                            </div>
                        </div>
                        <div class="outdoor-schedule">
                            <div class="schedule-item">
                                <div class="schedule-date">6월 15일 (금)</div>
                                <div class="schedule-movie">
                                    <h4>벌집의 정령</h4>
                                    <p>빅토르 에리세 감독 | 97분 | 스페인</p>
                                </div>
                            </div>
                            <div class="schedule-item">
                                <div class="schedule-date">6월 16일 (토)</div>
                                <div class="schedule-movie">
                                    <h4>레토</h4>
                                    <p>키릴 세레브렌니코프 감독 | 126분 | 러시아</p>
                                </div>
                            </div>
                            <div class="schedule-item">
                                <div class="schedule-date">6월 17일 (일)</div>
                                <div class="schedule-movie">
                                    <h4>사랑의 행로</h4>
                                    <p>데이비드 린 감독 | 113분 | 영국</p>
                                </div>
                            </div>
                        </div>
                        <div class="outdoor-info">
                            <p>※ 우천시 실내에서 진행됩니다.</p>
                            <p>※ 돗자리와 간단한 음료 제공</p>
                            <a href="#" class="cta-button">프로그램 전체보기</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="categories" class="categories-section">
            <div class="section-intro">
                <h2>영화 <span>카테고리</span></h2>
                <p>당신의 취향에 맞는 영화를 발견하세요.</p>
            </div>
            <div class="container">
                <div class="categories-grid">
                    <div class="category-card">
                        <div class="category-icon">
                            <div class="category-circle"></div>
                            <h4>액션</h4>
                        </div>
                        <h3>액션 영화 추천</h3>
                        <p>긴장감 넘치는 액션 영화를 매주 추천해드립니다.</p>
                        <a href="#" class="category-link">더 알아보기 →</a>
                    </div>
                    <div class="category-card">
                        <div class="category-icon">
                            <div class="category-circle"></div>
                            <h4>로맨스</h4>
                        </div>
                        <h3>로맨스 영화 추천</h3>
                        <p>감동적인 로맨스 영화로 마음을 따뜻하게 해보세요.</p>
                        <a href="#" class="category-link">더 알아보기 →</a>
                    </div>
                    <div class="category-card">
                        <div class="category-icon">
                            <div class="category-circle"></div>
                            <h4>스릴러</h4>
                        </div>
                        <h3>스릴러 영화 추천</h3>
                        <p>스릴러 영화로 짜릿한 경험을 해보세요.</p>
                        <a href="#" class="category-link">더 알아보기 →</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="program" class="canva-section">
            <div class="section-intro">
                <h2>NEW <span>ARRIVAL</span></h2>
                <p>새롭게 들어온 제품을 소개합니다.</p>
            </div>
            <div class="container">
                <div class="program-schedule">
                    <!-- 프로그램 내용을 가리는 오버레이 추가 - 기본적으로 숨김 상태로 변경 -->
                    <div id="program-overlay" class="program-overlay" style="display: none;">
                        <div class="overlay-content">
                            <h3>프로그램 일정 확인하기</h3>
                            <p>전체 프로그램 일정을 확인하시려면 로그인이 필요합니다.</p>
                            <button id="login-required-btn" class="cta-button">로그인하기</button>
                        </div>
                    </div>

                    <!-- 제품 목록 스타일 변경 (TIME STOOD STILL 참고) -->
                    <div class="product-list">
                        <div class="product-item">
                            <div class="product-image">
                                <img src="images/test.png" alt="티팟 화병">
                            </div>
                            <div class="product-details">
                                <h4 class="product-name">[Beautiful moment] Teapot-shaped flower vase</h4>
                                <p class="product-price">30,200원</p>
                            </div>
                        </div>
                        
                        <div class="product-item">
                            <div class="product-image">
                                <img src="images/test2.png" alt="유리 드롭러">
                            </div>
                            <div class="product-details">
                                <h4 class="product-name">[Beautiful moment] Glass droplet jar</h4>
                                <p class="product-price">28,200원</p>
                            </div>
                        </div>
                        
                        <div class="product-item">
                            <div class="product-image">
                                <img src="images/test3.png" alt="플라워 플레이트">
                            </div>
                            <div class="product-details">
                                <h4 class="product-name">[Pile up] Flower round plate</h4>
                                <p class="product-price">29,582원</p>
                            </div>
                        </div>
                        
                        <div class="product-item">
                            <div class="product-image">
                                <img src="images/test4.png" alt="티컵 세트">
                            </div>
                            <div class="product-details">
                                <h4 class="product-name">[Sweet life] Teacup set</h4>
                                <p class="product-price">44,500원</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="join" class="join-section">
            <div class="container join-container">
                <div class="join-text">
                    <h2>CINE<span>'MO</span>와 함께하세요</h2>
                    <p>매달 새로운 영화 경험과 다양한 혜택을 제공해 드립니다.</p>
                    <ul class="benefits">
                        <li>독점 영화 시사회 초대</li>
                        <li>영화 제작자 및 배우들과의 만남</li>
                        <li>영화 관련 워크샵 참여 기회</li>
                        <li>영화 추천 및 비평 커뮤니티</li>
                    </ul>
                </div>
                <div class="join-form">
                    <form id="signup-form">
                        <h3>회원 가입</h3>
                        <div class="form-group">
                            <input type="text" id="name" name="name" placeholder="이름" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="email" name="email" placeholder="이메일" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="password" name="password" placeholder="비밀번호" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="confirm-password" name="confirm-password" placeholder="비밀번호 확인" required>
                        </div>
                        <div class="form-message" id="signup-message"></div>
                        <button type="submit" class="cta-button">가입하기</button>
                    </form>
                </div>
            </div>
        </section>
        
        <section id="tickets" class="tickets-section">
            <div class="container">
                <h2>티켓 구매</h2>
                <p>CINE'MO의 특별 이벤트와 상영회에 참여하세요.</p>
                <div class="tickets-grid">
                    <div class="ticket-card">
                        <h3>1일 패스</h3>
                        <p class="ticket-price">₩20,000</p>
                        <ul>
                            <li>하루 전체 프로그램 참여</li>
                            <li>기념품 증정</li>
                        </ul>
                        <a href="#" class="cta-button small">구매하기</a>
                    </div>
                    <div class="ticket-card featured">
                        <h3>전체 패스</h3>
                        <p class="ticket-price">₩50,000</p>
                        <ul>
                            <li>모든 프로그램 참여</li>
                            <li>VIP 좌석 배정</li>
                            <li>특별 기념품 세트</li>
                            <li>제작자와의 대화 세션</li>
                        </ul>
                        <a href="#" class="cta-button small">구매하기</a>
                    </div>
                    <div class="ticket-card">
                        <h3>워크샵 패스</h3>
                        <p class="ticket-price">₩30,000</p>
                        <ul>
                            <li>모든 워크샵 참여</li>
                            <li>자료집 제공</li>
                            <li>수료증 발급</li>
                        </ul>
                        <a href="#" class="cta-button small">구매하기</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- 결제 안내 모달 -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-payment-modal">&times;</span>
            <h3>프로그램 참여 안내</h3>
            <p>CINE'MO 프로그램 참여를 위해 아래 계좌로 참가비를 입금해 주세요.</p>
            <div class="payment-details">
                <p><strong>참가비:</strong> 10,000원</p>
                <p><strong>계좌번호:</strong> 우리은행 1002-123-456789</p>
                <p><strong>예금주:</strong> CINE'MO</p>
            </div>
            <div class="form-group">
                <label for="payment-name">입금자명</label>
                <input type="text" id="payment-name" name="payment-name" placeholder="입금자명" required>
            </div>
            <div class="form-message" id="payment-message"></div>
            <button id="confirm-payment-btn" class="cta-button">확인</button>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">CINE<span>'MO</span></div>
                <div class="footer-links">
                    <a href="#intro">소개</a>
                    <a href="#services">서비스</a>
                    <a href="#gallery">갤러리</a>
                    <a href="#screening">상영회</a>
                    <a href="#categories">카테고리</a>
                    <a href="#program">프로그램</a>
                    <a href="#join">가입</a>
                    <a href="#" id="footer-login">로그인</a>
                </div>
                <div class="social-links">
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Twitter</a>
                    <a href="#" class="social-link">YouTube</a>
                </div>
            </div>
            <div class="copyright">
                © 2025 CASA CINEMA. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 모바일 메뉴 토글 기능
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const nav = document.querySelector('nav');
            
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    nav.classList.toggle('active');
                });
                
                // 메뉴 항목 클릭 시 메뉴 닫기
                const navLinks = document.querySelectorAll('nav a');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileMenuToggle.classList.remove('active');
                        nav.classList.remove('active');
                    });
                });
            }
            
            // 스크롤시 헤더 스타일 변경
            window.addEventListener('scroll', function() {
                const header = document.querySelector('header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
            
            // 텍스트 입력 필드 배경색 문제 해결
            const inputFields = document.querySelectorAll('input');
            inputFields.forEach(input => {
                // 초기 배경색 설정
                input.style.backgroundColor = 'var(--dark)';
                input.style.background = 'var(--dark)';
                
                // 입력 및 포커스 이벤트
                ['focus', 'input', 'change', 'blur'].forEach(eventType => {
                    input.addEventListener(eventType, function() {
                        this.style.backgroundColor = 'var(--dark)';
                        this.style.background = 'var(--dark)';
                        setTimeout(() => {
                            this.style.backgroundColor = 'var(--dark)';
                            this.style.background = 'var(--dark)';
                        }, 10);
                    });
                });
            });
            
            // iOS에서 100vh 문제 해결
            const setVhVariable = () => {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            };
            
            setVhVariable();
            window.addEventListener('resize', setVhVariable);
            
            // 탭 기능
            const tabs = document.querySelectorAll('.screening-tab');
            const panels = document.querySelectorAll('.screening-panel');

            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    panels.forEach(p => p.classList.remove('active'));
                    
                    this.classList.add('active');
                    const target = this.getAttribute('data-target');
                    document.getElementById(target).classList.add('active');
                });
            });

            // 로그인 모달 기능
            const loginButton = document.getElementById('login-button');
            const loginModal = document.getElementById('login-modal');
            const closeModal = document.querySelector('.close-modal');
            const closeAndRedirect = document.querySelector('.close-and-redirect');

            // 로그인 버튼 이벤트 리스너는 updateAuthUI 함수에서 처리하므로 여기서는 제거
            // 대신 초기 상태 확인 시 updateAuthUI 호출하도록 수정

            closeModal.addEventListener('click', function() {
                loginModal.style.display = 'none';
            });

            closeAndRedirect.addEventListener('click', function(e) {
                e.preventDefault();
                loginModal.style.display = 'none';
                const joinSection = document.getElementById('join');
                joinSection.scrollIntoView({ behavior: 'smooth' });
            });

            window.addEventListener('click', function(e) {
                if (e.target === loginModal) {
                    loginModal.style.display = 'none';
                }
            });

            // 회원가입 기능
            const signupForm = document.getElementById('signup-form');
            const signupMessage = document.getElementById('signup-message');

            if (signupForm) {
                signupForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const password = document.getElementById('password').value;
                    const confirmPassword = document.getElementById('confirm-password').value;
                    
                    // 비밀번호 확인
                    if (password !== confirmPassword) {
                        signupMessage.textContent = '비밀번호가 일치하지 않습니다.';
                        signupMessage.classList.add('error');
                        return;
                    }
                    
                    // 서버에 회원가입 요청
                    fetch('/api/register', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ name, email, password })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            signupMessage.textContent = '회원가입이 완료되었습니다!';
                            signupMessage.classList.remove('error');
                            signupMessage.classList.add('success');
                            
                            // 폼 초기화
                            signupForm.reset();
                            
                            // 3초 후 메시지 숨기기
                            setTimeout(() => {
                                signupMessage.textContent = '';
                                signupMessage.classList.remove('success');
                                
                                // 로그인 모달 열기
                                loginModal.style.display = 'flex';
                            }, 3000);
                        } else {
                            signupMessage.textContent = data.message || '회원가입 중 오류가 발생했습니다.';
                            signupMessage.classList.add('error');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        signupMessage.textContent = '서버와의 통신 중 오류가 발생했습니다.';
                        signupMessage.classList.add('error');
                    });
                });
            }

            // 로그인 기능
            const loginForm = document.getElementById('login-form');
            const loginMessage = document.getElementById('login-message');

            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const email = document.getElementById('login-email').value;
                    const password = document.getElementById('login-password').value;
                    
                    // 서버에 로그인 요청
                    fetch('/api/login', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ email, password })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            loginMessage.textContent = '로그인 성공!';
                            loginMessage.classList.remove('error');
                            loginMessage.classList.add('success');
                            
                            // 토큰 저장
                            localStorage.setItem('token', data.token);
                            
                            // 로그인 상태 갱신
                            updateAuthUI(true, data.user.name);
                            
                            // 결제 상태 확인
                            checkAuthAndPaymentStatus();
                            
                            // 폼 초기화
                            loginForm.reset();
                            
                            // 모달 닫기
                            setTimeout(() => {
                                loginModal.style.display = 'none';
                                loginMessage.textContent = '';
                                loginMessage.classList.remove('success');
                            }, 1500);
                        } else {
                            loginMessage.textContent = data.message || '로그인 중 오류가 발생했습니다.';
                            loginMessage.classList.add('error');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        loginMessage.textContent = '서버와의 통신 중 오류가 발생했습니다.';
                        loginMessage.classList.add('error');
                    });
                });
            }

            // 인증 상태에 따른 UI 업데이트
            function updateAuthUI(isLoggedIn, username) {
                const loginButton = document.querySelector('.buy-tickets span');
                const loginButtonContainer = document.querySelector('.buy-tickets');
                const footerLoginBtn = document.getElementById('footer-login');
                
                if (isLoggedIn && loginButton) {
                    // 헤더 로그인 버튼 변경
                    loginButton.textContent = '로그아웃';
                    
                    // 푸터 로그인 링크 변경
                    if (footerLoginBtn) {
                        footerLoginBtn.textContent = '로그아웃';
                    }
                    
                    // 로그아웃 기능 추가
                    if (loginButtonContainer) {
                        // 이전 이벤트 리스너 제거
                        loginButtonContainer.removeEventListener('click', loginHandler);
                        
                        // 로그아웃 이벤트 리스너 추가
                        loginButtonContainer.addEventListener('click', function(e) {
                            e.preventDefault();
                            
                            // 로그아웃 확인 대화상자 생성
                            const confirmLogout = confirm('정말 로그아웃 하시겠습니까?');
                            
                            if (confirmLogout) {
                                // 로그아웃 처리
                                localStorage.removeItem('token');
                                updateAuthUI(false);
                                updateProgramUI(false, false);
                                
                                // 로그아웃 알림
                                alert('로그아웃 되었습니다.');
                                
                                // 페이지 맨 위로 이동
                                window.scrollTo({
                                    top: 0,
                                    behavior: 'smooth'
                                });
                            }
                        });
                    }
                } else if (loginButton) {
                    // 헤더 로그인 버튼 변경
                    loginButton.textContent = '로그인';
                    
                    // 푸터 로그인 링크 변경
                    if (footerLoginBtn) {
                        footerLoginBtn.textContent = '로그인';
                    }
                    
                    // 로그인 기능으로 되돌리기
                    if (loginButtonContainer) {
                        // 이전 이벤트 리스너 제거
                        loginButtonContainer.removeEventListener('click', logoutHandler);
                        
                        // 로그인 핸들러 정의
                        loginHandler = function(e) {
                            e.preventDefault();
                            loginModal.style.display = 'flex';
                        };
                        
                        // 로그인 이벤트 리스너 추가
                        loginButtonContainer.addEventListener('click', loginHandler);
                    }
                }
            }

            // 로그인 핸들러와 로그아웃 핸들러 정의
            let loginHandler = function(e) {
                e.preventDefault();
                loginModal.style.display = 'flex';
            };
            
            let logoutHandler = function(e) {
                e.preventDefault();
                // 로그아웃 처리는 updateAuthUI에서 구현
            };
            
            // 로그인 버튼 초기 이벤트 바인딩
            const loginButtonInit = document.getElementById('login-button');
            if (loginButtonInit) {
                loginButtonInit.addEventListener('click', loginHandler);
            }

            // 스무스 스크롤 (iOS 호환성)
            function scrollToSection(id) {
                const targetElement = document.querySelector(id);
                if (targetElement) {
                    // 헤더 높이 계산
                    const headerHeight = document.querySelector('header').offsetHeight;
                    
                    // 요소의 실제 위치 계산
                    const elementRect = targetElement.getBoundingClientRect();
                    const absoluteElementTop = elementRect.top + window.pageYOffset;
                    const scrollPosition = absoluteElementTop - headerHeight - 20; // 여유 공간 20px 추가
                    
                    // 스크롤 실행
                    window.scrollTo({
                        top: scrollPosition,
                        behavior: 'smooth'
                    });
                    
                    // 모바일 메뉴가 열려있는 경우 닫기
                    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
                    const nav = document.querySelector('nav');
                    if (mobileMenuToggle && mobileMenuToggle.classList.contains('active')) {
                        mobileMenuToggle.classList.remove('active');
                        nav.classList.remove('active');
                    }
                }
            }
            
            // 모든 메뉴 링크에 클릭 이벤트 추가
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const targetId = this.getAttribute('href');
                    
                    // '#' 링크나 로그인 버튼은 별도 처리
                    if (targetId === '#' || this.classList.contains('buy-tickets')) {
                        return; // 기본 동작 유지
                    }
                    
                    e.preventDefault(); // 다른 링크들은 기본 동작 방지
                    
                    // 스크롤 실행
                    scrollToSection(targetId);
                });
            });
            
            // 페이지 로드 시 URL 해시가 있으면 해당 섹션으로 스크롤
            if (window.location.hash) {
                setTimeout(() => {
                    try {
                        scrollToSection(window.location.hash);
                    } catch (e) {
                        console.error('스크롤 오류:', e);
                    }
                }, 500); // 페이지 로드 후 약간의 지연 시간을 줌 (500ms로 증가)
            }
            
            // 로고 클릭 시 맨 위로 스크롤
            document.querySelector('.logo').addEventListener('click', function(e) {
                e.preventDefault();
                
                // 부드러운 스크롤로 최상단으로 이동
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // 이미지 지연 로딩 
            const images = document.querySelectorAll('img');
            
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const image = entry.target;
                            const src = image.getAttribute('data-src');
                            if (src) {
                                image.src = src;
                                image.removeAttribute('data-src');
                            }
                            imageObserver.unobserve(image);
                        }
                    });
                });
                
                images.forEach(img => {
                    const src = img.src;
                    img.setAttribute('data-src', src);
                    img.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"%3E%3C/svg%3E';
                    imageObserver.observe(img);
                });
            }

            // 프로그램 섹션 및 결제 모달 관련 기능
            const programSection = document.getElementById('program');
            const programOverlay = document.getElementById('program-overlay');
            const loginRequiredBtn = document.getElementById('login-required-btn');
            const paymentModal = document.getElementById('payment-modal');
            const closePaymentModal = document.getElementById('close-payment-modal');
            const confirmPaymentBtn = document.getElementById('confirm-payment-btn');
            const paymentMessage = document.getElementById('payment-message');

            // 각 프로그램 항목 클릭 처리
            const programItems = document.querySelectorAll('.program-item');
            if (programItems.length > 0) {
                programItems.forEach(item => {
                    // 전체 항목 클릭 이벤트 처리 - 모바일 사용성 개선
                    item.addEventListener('click', function(e) {
                        handleProgramItemClick(this);
                    });
                    
                    // 항목 내 참여하기 버튼 클릭 이벤트 처리
                    const joinBtn = item.querySelector('.join-btn');
                    if (joinBtn) {
                        joinBtn.addEventListener('click', function(e) {
                            e.stopPropagation(); // 버블링 방지
                            handleProgramItemClick(item);
                        });
                    }
                });
            }
            
            // 프로그램 항목 클릭 공통 처리 함수
            function handleProgramItemClick(item) {
                const token = localStorage.getItem('token');
                const movieTitle = item.querySelector('h4').textContent;
                const movieTime = item.querySelector('.time').textContent;
                
                if (token) {
                    // 로그인 된 경우 - 결제 모달 표시 및 프로그램 정보 업데이트
                    const paymentDetails = document.querySelector('.payment-details');
                    if (paymentDetails) {
                        // 결제 정보에 선택한 프로그램 정보 추가
                        const programInfo = `<p><strong>프로그램:</strong> ${movieTitle} (${movieTime})</p>`;
                        paymentDetails.innerHTML = `
                            <p><strong>참가비:</strong> 10,000원</p>
                            <p><strong>계좌번호:</strong> 우리은행 1002-123-456789</p>
                            <p><strong>예금주:</strong> CINE'MO</p>
                            ${programInfo}
                        `;
                    }
                    paymentModal.style.display = 'flex';
                } else {
                    // 로그인 필요한 경우 로그인 모달 표시
                    alert('로그인이 필요한 서비스입니다.');
                    loginModal.style.display = 'flex';
                }
            }

            // 프로그램 섹션 내 오버레이 버튼 클릭 핸들러
            if (programSection && programOverlay && loginRequiredBtn) {
                loginRequiredBtn.addEventListener('click', function() {
                    const token = localStorage.getItem('token');
                    
                    if (token) {
                        // 이미 로그인된 경우 결제 안내 모달 표시
                        programOverlay.style.display = 'none';
                        paymentModal.style.display = 'flex';
                    } else {
                        // 로그인 필요한 경우 로그인 모달 표시
                        loginModal.style.display = 'flex';
                    }
                });
            }

            // 결제 모달 닫기
            if (closePaymentModal) {
                closePaymentModal.addEventListener('click', function() {
                    paymentModal.style.display = 'none';
                });
            }

            // 결제 확인 버튼 처리
            if (confirmPaymentBtn) {
                confirmPaymentBtn.addEventListener('click', function() {
                    const paymentName = document.getElementById('payment-name').value;
                    if (!paymentName) {
                        paymentMessage.textContent = '입금자명을 입력해주세요.';
                        paymentMessage.classList.add('error');
                        return;
                    }

                    const token = localStorage.getItem('token');
                    
                    // 선택한 프로그램 정보 가져오기
                    const programDetails = document.querySelector('.payment-details p:last-child');
                    let programTitle = '프로그램 참여'; // 기본값
                    
                    if (programDetails && programDetails.textContent.includes('프로그램:')) {
                        const programText = programDetails.textContent;
                        programTitle = programText.substring(programText.indexOf('프로그램:') + 6).trim();
                    }
                    
                    // 서버에 결제 정보 저장 요청
                    fetch('/api/payment', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({ 
                            paymentName: paymentName,
                            amount: 10000,
                            program: programTitle
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            paymentMessage.textContent = '입금 확인이 완료되었습니다. 프로그램에 참여해 주셔서 감사합니다!';
                            paymentMessage.classList.remove('error');
                            paymentMessage.classList.add('success');
                            
                            // 프로그램 오버레이 제거 (프로그램 컨텐츠 표시)
                            programOverlay.style.display = 'none';
                            
                            // 3초 후 모달 닫기
                            setTimeout(() => {
                                paymentModal.style.display = 'none';
                                paymentMessage.textContent = '';
                                paymentMessage.classList.remove('success');
                            }, 3000);
                        } else {
                            paymentMessage.textContent = data.message || '처리 중 오류가 발생했습니다.';
                            paymentMessage.classList.add('error');
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        paymentMessage.textContent = '서버와의 통신 중 오류가 발생했습니다.';
                        paymentMessage.classList.add('error');
                    });
                });
            }

            // 인증 상태에 따른 프로그램 섹션 UI 업데이트
            function updateProgramUI(isLoggedIn, hasPayment) {
                // 프로그램 오버레이는 항상 숨김 상태 유지
                if (programOverlay) {
                    programOverlay.style.display = 'none';
                }
            }

            // 페이지 로드 시 인증 및 결제 상태 확인
            function checkAuthAndPaymentStatus() {
                const token = localStorage.getItem('token');
                
                if (token) {
                    // 토큰 유효성 및 결제 상태 검증
                    fetch('/api/check-payment', {
                        method: 'GET',
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            updateAuthUI(true, data.user.name);
                            updateProgramUI(true, data.hasPayment);
                        } else {
                            // 토큰이 유효하지 않으면 로그아웃 처리
                            localStorage.removeItem('token');
                            updateAuthUI(false);
                            updateProgramUI(false, false);
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        localStorage.removeItem('token');
                        updateAuthUI(false);
                        updateProgramUI(false, false);
                    });
                } else {
                    updateAuthUI(false);
                    updateProgramUI(false, false);
                }
            }
            
            // 초기 인증 및 결제 상태 확인
            checkAuthAndPaymentStatus();

            // 푸터 로그인 버튼 이벤트 처리
            const footerLoginBtn = document.getElementById('footer-login');
            if (footerLoginBtn) {
                footerLoginBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const token = localStorage.getItem('token');
                    
                    if (token) {
                        // 이미 로그인된 경우 로그아웃 확인
                        const confirmLogout = confirm('정말 로그아웃 하시겠습니까?');
                        
                        if (confirmLogout) {
                            // 로그아웃 처리
                            localStorage.removeItem('token');
                            updateAuthUI(false);
                            updateProgramUI(false, false);
                            
                            // 로그아웃 알림
                            alert('로그아웃 되었습니다.');
                            
                            // 상단으로 이동
                            window.scrollTo({
                                top: 0,
                                behavior: 'smooth'
                            });
                        }
                    } else {
                        // 로그인 모달 표시
                        loginModal.style.display = 'flex';
                    }
                });
            }
        });
    </script>
</body>
</html>